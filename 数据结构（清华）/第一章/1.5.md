# 1.ç»ªè®º

### 5.1è¿­ä»£ä¸é€’å½’

>   è¿­ä»£ä¹ƒäººå·¥ï¼Œé€’å½’æ–¹ç¥é€š
>
>   To iterate is human, to recurse , divine.

![image-20210223105655510](https://i.loli.net/2021/02/23/RQHCzn8P7vMY4qc.png)

### 5.2 é€’å½’è·Ÿè¸ª

ã€Decrease-and-conquerã€‘

ä¸ºäº†æ±‚è§£ä¸€ä¸ªå¤§è§„æ¨¡çš„é—®é¢˜ï¼Œå¯ä»¥å°†å…¶åˆ’åˆ†ä¸ºä¸¤ä¸ªå­é—®é¢˜ï¼Œå…¶ä¸€å¹³å‡¡ï¼Œå¦ä¸€è§„æ¨¡ç¼©å‡

åˆ†åˆ«æ±‚è§£å­é—®é¢˜ï¼Œç”±å­é—®é¢˜çš„è§£ï¼Œå¾—åˆ°åŸé—®é¢˜çš„è§£

ğŸ”æ•°ç»„æ±‚å’Œï¼šçº¿æ€§é€’å½’

```cpp
sum(int A[], int n)
{
    return 
        (n<1)?
        	0 : sum(A, n-1) + A[n-1];
}
```

â—é€’å½’è·Ÿè¸ª(recursion trace)åˆ†æ

â€‹	æ£€æŸ¥æ¯ä¸ª**é€’å½’å®ä¾‹**ï¼Œç´¯è®¡æ‰€éœ€æ—¶é—´ï¼ˆè°ƒç”¨è¯­å¥æœ¬èº«ï¼Œè®¡å…¥å¯¹åº”çš„å­å®ä¾‹ï¼‰å…¶ç»¼åˆå³ç®—æ³•æ‰§è¡Œæ—¶é—´

æœ¬ä¾‹ä¸­ï¼Œå•ä¸ªé€’å½’å®ä¾‹è‡ªèº«åªéœ€O(1)æ—¶é—´ $T(n) = O(1) * (n+1) = O(n)$

â€‹	<u>ç‰¹ç‚¹ï¼šç›´è§‚å½¢è±¡ï¼Œä»…é€‚ç”¨äºç®€æ˜çš„é€’å½’æ¨¡å¼</u>

### 5.3 çº¿æ€§é€’å½’

  ![image-20210223113415252](https://i.loli.net/2021/02/23/rfgtlWTRIe5KpkB.png)

**<u>*é€’æ¨æ–¹ç¨‹*</u>**		$T(n) = T(n-1) + O(1)$

â€‹	ç†è§£ä¸ºï¼Œç”¨T(n-1)çš„æ—¶é—´å»æ±‚è§£ä¸€ä¸ªè§„æ¨¡ä¸ºn-1çš„é—®é¢˜ï¼Œç„¶åèŠ±O(1)çš„æ—¶é—´æ¥å°†è§£åˆå¹¶

![image-20210223113650333](https://i.loli.net/2021/02/23/uaQ8mNTAP3MZxpk.png)

### 5.4æ•°ç»„å€’ç½®

ä»»ç»™æ•°ç»„A[0,n),å°†å…¶å‰åé¢ å€’

ç»Ÿä¸€æ¥å£ï¼š```  void reverse ( int *A, int lo, int hi);```  

<u>é€’å½’ç‰ˆ</u>ï¼š

â€‹	` if (lo < hi) { swap(A[lo],A[hi]); reverse(A,lo + 1, hi - 1); }`

![image-20210223114310486](https://i.loli.net/2021/02/23/icVRXWHjJFfLoa6.png)

<u>è¿­ä»£åŸå§‹ç‰ˆ</u>

```cpp
next:
	if(lo < hi)
    {  swap(A[lo],A[hi]); lo++; hi--; goto next;}
```

<u>è¿­ä»£ç²¾ç®€ç‰ˆ</u>

`while (lo < hi) swap(A[lo++], A[hi--]);`

### 5.5åˆ†è€Œæ²»ä¹‹

![image-20210223115109184](https://i.loli.net/2021/02/23/VYCna6NWT3pQXAu.png)

ğŸ”å…·ä½“å®ä¾‹ï¼š

```cpp
sum (int A[], int lo, int hi){
    if( lo == hi) return A[lo];	//é€’å½’åŸº
    int mi = (lo + hi) >> 1;
    return sum(A, lo, mi) + sum(A, mi+1, hi);
}
```

![image-20210223115450722](https://i.loli.net/2021/02/23/rIzqmys5MW271pc.png)

$T(n)=å„å±‚é€’å½’å®ä¾‹æ‰€éœ€æ—¶é—´ä¹‹å’Œ$

$=O(1) Ã—(2^0+2^1+2^2+...+2^{logn})=O(1)Ã—(2^{logn+1}-1)=O(n))$

â€‹	ä»é€’æ¨çš„è§’åº¦çœ‹ï¼Œä¸ºäº†æ±‚è§£sum(A, lo, hi)éœ€é€’å½’æ±‚è§£sum(A, lo, mi)å’Œsum(A,mi+1,hi)è¿›è€Œå°†å­é—®é¢˜çš„è§£ç´¯åŠ ã€‚

â€‹	é€’å½’åŸºï¼šsum(A, lo, lo)

![image-20210223120324278](https://i.loli.net/2021/02/23/fvSgIXAiePJF8Yx.png)

### 5.6Max2:è¿­ä»£

![image-20210223172851757](https://i.loli.net/2021/02/23/OIvYeSEgCZQcjB8.png)

æ— è®ºå¦‚ä½•ï¼Œæ¯”è¾ƒæ¬¡æ•°æ€»æ˜¯$\Theta (2n-3)$

ä¼˜åŒ–ä»£ç V1ï¼š

```cpp
void max2 ( int A[], int lo, int hi, int &xi, int &x2){
	if (A[x1 = lo] < A[x2 = lo + 1]) swap(x1, x2);
		//åˆå§‹åŒ–ï¼Œå°†x1ï¼Œx2å­˜å…¥åˆå§‹å€¼
    for( int i = lo + 2; i< hi; i++)
		if(A[x2] < A[i]) 
			if( A[x2] < A[x2 = i])
				swap( x1, x2);
}
```

æœ€å¥½æƒ…å†µï¼Œ1+(n -  2)*1 = n - 1

æœ€åæƒ…å†µï¼Œ1 + (n - 2)*2 = 2n -3

ä¼˜åŒ–ä»£ç V2ï¼šï¼ˆé€’å½’+åˆ†æ²»ï¼‰

![image-20210223173851862](https://i.loli.net/2021/02/23/Lj7qBYTGd1Or8he.png)

```cpp
void max2(int A[], int lo, int hi, int &x1, int &x2){
    if( lo + 2 == hi) { /*...*/; return;}
    if( lo + 3 == hi) { /*...*/; return;}
    int mi = (lo + hi)/2;
    int x1L, x2L; max2(A, lo, mi, x1L, x2L);
    int x1R, x2R; max2(A, mi, hi, x1R, x2R);
    if(A[x1L] > A[x1R]){
        x1 = x1L; x2 = (A[x2L] > A[x1R]) ? x2L : x1R;
    } else	{
        x1 = x1R; x2 = (A[x1L] > A[x2R]) ? x1L : x2R;
    }
}
```

$$
T(n) = 2*T(n/2) +2 = 5n/3 - 2
$$

